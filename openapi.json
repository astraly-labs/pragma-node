{"openapi":"3.1.0","info":{"title":"pragma-node","description":"","license":{"name":""},"version":"0.1.0"},"servers":[{"url":"https://{environment}.pragma.build","variables":{"environment":{"default":"api.dev","enum":["api.dev","api.prod"]}}}],"paths":{"/node/v1/aggregation/candlestick/{base}/{quote}":{"get":{"tags":["crate::handlers::get_ohlc"],"operationId":"get_ohlc","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"timestamp","in":"query","description":"The unix timestamp in seconds. This endpoint will return the first update whose\ntimestamp is <= the provided value.","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/i64"}]}},{"name":"interval","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Interval"}]}},{"name":"routing","in":"query","required":false,"schema":{"type":["boolean","null"]}},{"name":"aggregation","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/AggregationMode"}]}},{"name":"entry_type","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/EntryType"}]}},{"name":"expiry","in":"query","required":false,"schema":{"type":["string","null"]}}],"responses":{"200":{"description":"Get OHLC data successfuly","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetOHLCResponse"}}}}}}}},"/node/v1/data/publish":{"post":{"tags":["crate::handlers::create_entry"],"operationId":"create_entries","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEntryRequest"}}},"required":true},"responses":{"200":{"description":"Entries published successfuly","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEntryResponse"}}}},"401":{"description":"Unauthorized Publisher","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntryError"}}}}}}},"/node/v1/data/publish_future":{"post":{"tags":["crate::handlers::create_future_entry"],"operationId":"create_future_entries","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFutureEntryRequest"}}},"required":true},"responses":{"200":{"description":"Entries published successfuly","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFutureEntryResponse"}}}},"401":{"description":"Unauthorized Publisher","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EntryError"}}}}}}},"/node/v1/data/{base}/{quote}":{"get":{"tags":["crate::handlers::get_entry"],"operationId":"get_entry","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"timestamp","in":"query","description":"The unix timestamp in seconds. This endpoint will return the first update whose\ntimestamp is <= the provided value.","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/i64"}]}},{"name":"interval","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Interval"}]}},{"name":"routing","in":"query","required":false,"schema":{"type":["boolean","null"]}},{"name":"aggregation","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/AggregationMode"}]}},{"name":"entry_type","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/EntryType"}]}},{"name":"expiry","in":"query","required":false,"schema":{"type":["string","null"]}}],"responses":{"200":{"description":"Get median entry successfuly","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetEntryResponse"}}}}}}}},"/node/v1/data/{base}/{quote}/future_expiries":{"get":{"tags":["crate::handlers::get_expiries"],"operationId":"get_expiries","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Get available future expiries for a pair","content":{"application/json":{"schema":{"type":"array","items":{"type":"array","items":{"type":"string","format":"date-time"}}}}}}}}},"/node/v1/onchain/checkpoints/{base}/{quote}":{"get":{"tags":["crate::handlers::onchain::get_checkpoints"],"operationId":"get_onchain_checkpoints","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"network","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Network"}},{"name":"limit","in":"query","required":false,"schema":{"type":["integer","null"],"format":"int64","minimum":0}}],"responses":{"200":{"description":"Get the onchain checkpoints for a pair","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOnchainCheckpointsResponse"}}}}}}},"/node/v1/onchain/history/{base}/{quote}":{"get":{"tags":["crate::handlers::onchain::get_history"],"operationId":"get_onchain_history","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"network","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Network"}},{"name":"timestamp","in":"query","required":true,"schema":{"$ref":"#/components/schemas/TimestampRange"}},{"name":"chunk_interval","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Interval"}]}},{"name":"routing","in":"query","required":false,"schema":{"type":["boolean","null"]}}],"responses":{"200":{"description":"Get the historical onchain median price","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOnchainHistoryResponse"}}}}}}},"/node/v1/onchain/publishers":{"get":{"tags":["crate::handlers::onchain::get_publishers"],"operationId":"get_onchain_publishers","parameters":[{"name":"network","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Network"}},{"name":"data_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/DataType"}}],"responses":{"200":{"description":"Get the onchain publishers","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOnchainPublishersResponse"}}}}}}},"/node/v1/onchain/{base}/{quote}":{"get":{"tags":["crate::handlers::onchain::get_entry"],"operationId":"get_onchain_entry","parameters":[{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"network","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Network"}},{"name":"aggregation","in":"query","required":false,"schema":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/AggregationMode"}]}},{"name":"routing","in":"query","required":false,"schema":{"type":["boolean","null"]}},{"name":"timestamp","in":"query","required":false,"schema":{"type":["integer","null"],"format":"int64"}},{"name":"components","in":"query","required":false,"schema":{"type":["boolean","null"]}},{"name":"variations","in":"query","required":false,"schema":{"type":["boolean","null"]}}],"responses":{"200":{"description":"Get the onchain entry","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOnchainEntryResponse"}}}}}}},"/node/v1/volatility/{quote}/{base}":{"get":{"tags":["crate::handlers::get_volatility"],"operationId":"get_volatility","parameters":[{"name":"quote","in":"path","description":"Quote Asset","required":true,"schema":{"type":"string"}},{"name":"base","in":"path","description":"Base Asset","required":true,"schema":{"type":"string"}},{"name":"start","in":"query","description":"Initial timestamp, combined with `end`, it helps define the period over which the mean is computed","required":true,"schema":{"type":"integer","format":"int64","minimum":0}},{"name":"end","in":"query","description":"Final timestamp","required":true,"schema":{"type":"integer","format":"int64","minimum":0}}],"responses":{"200":{"description":"Get realized volatility successfuly","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetVolatilityResponse"}}}}}}}},"node/v1/optimistic/assertions":{"get":{"tags":["crate::handlers::optimistic_oracle::get_assertions"],"operationId":"get_assertions","parameters":[{"name":"status","in":"query","description":"Filter by assertion status","required":false,"schema":{"type":"string"}},{"name":"page","in":"query","description":"Page number for pagination","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","format":"int32","minimum":0}}],"responses":{"200":{"description":"Get assertions successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAssertionsResponse"}}}}}}},"node/v1/optimistic/assertions/{assertion_id}":{"get":{"tags":["crate::handlers::optimistic_oracle::get_assertion_details"],"operationId":"get_assertion_details","parameters":[{"name":"assertion_id","in":"path","description":"Unique identifier of the assertion","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Get assertion details successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssertionDetails"}}}}}}},"node/v1/optimistic/disputed-assertions":{"get":{"tags":["crate::handlers::optimistic_oracle::get_disputed_assertions"],"operationId":"get_disputed_assertions","parameters":[{"name":"page","in":"query","description":"Page number for pagination","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","format":"int32","minimum":0}}],"responses":{"200":{"description":"Get disputed assertions successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDisputedAssertionsResponse"}}}}}}},"node/v1/optimistic/resolved-assertions":{"get":{"tags":["crate::handlers::optimistic_oracle::get_resolved_assertions"],"operationId":"get_resolved_assertions","parameters":[{"name":"page","in":"query","description":"Page number for pagination","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","format":"int32","minimum":0}}],"responses":{"200":{"description":"Get resolved assertions successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetResolvedAssertionsResponse"}}}}}}}},"components":{"schemas":{"AggregationMode":{"type":"string","enum":["median","mean","twap"]},"Assertion":{"type":"object","required":["assertion_id","claim","bond","expiration_time","identifier","status","timestamp","currency"],"properties":{"assertion_id":{"type":"string"},"bond":{"type":"string"},"claim":{"type":"string"},"currency":{"type":"string"},"expiration_time":{"type":"string","format":"date-time"},"identifier":{"type":"string"},"status":{"$ref":"#/components/schemas/Status"},"timestamp":{"type":"string","format":"date-time"}}},"AssertionDetails":{"type":"object","required":["assertion","domain_id","asserter","disputer","disputed","dispute_id","callback_recipient","caller","settled","settle_caller","settlement_resolution"],"properties":{"asserter":{"type":"string"},"assertion":{"$ref":"#/components/schemas/Assertion"},"callback_recipient":{"type":"string"},"caller":{"type":"string"},"dispute_id":{"type":"string"},"disputed":{"type":"boolean"},"disputer":{"type":"string"},"domain_id":{"type":"string"},"settle_caller":{"type":"string"},"settled":{"type":"boolean"},"settlement_resolution":{"$ref":"#/components/schemas/SettlementResolution"}}},"AssetOraclePrice":{"type":"object","required":["global_asset_id","median_price","signature","signed_prices"],"properties":{"global_asset_id":{"type":"string"},"median_price":{"type":"string"},"signature":{"type":"string"},"signed_prices":{"type":"array","items":{"$ref":"#/components/schemas/SignedPublisherPrice"}}}},"BaseEntry":{"type":"object","required":["timestamp","source","publisher"],"properties":{"publisher":{"type":"string"},"source":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0}}},"Checkpoint":{"type":"object","required":["tx_hash","price","timestamp","sender_address"],"properties":{"price":{"type":"string"},"sender_address":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0},"tx_hash":{"type":"string"}}},"ConversionError":{"type":"string","enum":["FailedSerialization","InvalidDateTime","BigDecimalConversion","FeltConversion","U128Conversion"]},"CreateEntryRequest":{"type":"object","required":["signature","entries"],"properties":{"entries":{"type":"array","items":{"$ref":"#/components/schemas/Entry"}},"signature":{"type":"array","items":{"type":"string"}}}},"CreateEntryResponse":{"type":"object","required":["number_entries_created"],"properties":{"number_entries_created":{"type":"integer","minimum":0}}},"CreateFutureEntryRequest":{"type":"object","required":["signature","entries"],"properties":{"entries":{"type":"array","items":{"$ref":"#/components/schemas/FutureEntry"}},"signature":{"type":"array","items":{"type":"string"}}}},"CreateFutureEntryResponse":{"type":"object","required":["number_entries_created"],"properties":{"number_entries_created":{"type":"integer","minimum":0}}},"DataType":{"type":"string","enum":["spot_entry","perp_entry","future_entry"]},"DisputedAssertion":{"type":"object","required":["assertion","disputer","disputed_at","dispute_id","disputed_tx"],"properties":{"assertion":{"$ref":"#/components/schemas/Assertion"},"dispute_id":{"type":"string"},"disputed_at":{"type":"string","format":"date-time"},"disputed_tx":{"type":"string"},"disputer":{"type":"string"}}},"Entry":{"type":"object","required":["base","pair_id","price","volume"],"properties":{"base":{"$ref":"#/components/schemas/BaseEntry"},"pair_id":{"type":"string"},"price":{"type":"integer","minimum":0},"volume":{"type":"integer","minimum":0}}},"EntryError":{"oneOf":[{"type":"string","enum":["InternalServerError"]},{"type":"string","enum":["BadRequest"]},{"type":"object","required":["NotFound"],"properties":{"NotFound":{"type":"string"}}},{"type":"object","required":["InfraError"],"properties":{"InfraError":{"$ref":"#/components/schemas/InfraError"}}},{"type":"object","required":["InvalidSignature"],"properties":{"InvalidSignature":{"type":"string"}}},{"type":"string","enum":["InvalidSigner"]},{"type":"object","required":["Unauthorized"],"properties":{"Unauthorized":{"type":"string"}}},{"type":"object","required":["InvalidTimestamp"],"properties":{"InvalidTimestamp":{"$ref":"#/components/schemas/TimestampRangeError"}}},{"type":"string","enum":["InvalidExpiry"]},{"type":"object","required":["MissingData"],"properties":{"MissingData":{"type":"string"}}},{"type":"object","required":["PublisherError"],"properties":{"PublisherError":{"$ref":"#/components/schemas/PublisherError"}}},{"type":"object","required":["UnknownPairId"],"properties":{"UnknownPairId":{"type":"string"}}},{"type":"object","required":["VolatilityError"],"properties":{"VolatilityError":{"$ref":"#/components/schemas/VolatilityError"}}},{"type":"object","required":["PublishData"],"properties":{"PublishData":{"type":"string"}}},{"type":"object","required":["BuildPublish"],"properties":{"BuildPublish":{"type":"string"}}},{"type":"object","required":["SignerError"],"properties":{"SignerError":{"$ref":"#/components/schemas/SignerError"}}},{"type":"object","required":["InvalidLoginMessage"],"properties":{"InvalidLoginMessage":{"type":"string"}}},{"type":"object","required":["UnsupportedInterval"],"properties":{"UnsupportedInterval":{"type":"array","items":{"type":"object"},"maxItems":2,"minItems":2}}}]},"EntryType":{"type":"string","enum":["spot","perp","future"]},"FutureEntry":{"type":"object","required":["base","pair_id","price","volume","expiration_timestamp"],"properties":{"base":{"$ref":"#/components/schemas/BaseEntry"},"expiration_timestamp":{"type":"integer","format":"int64","minimum":0},"pair_id":{"type":"string"},"price":{"type":"integer","minimum":0},"volume":{"type":"integer","minimum":0}}},"GetAssertionsParams":{"type":"object","properties":{"limit":{"type":["integer","null"],"format":"int32","minimum":0},"page":{"type":["integer","null"],"format":"int32","minimum":0},"status":{"type":["string","null"]}}},"GetAssertionsResponse":{"type":"object","required":["assertions","total_count","current_page","total_pages"],"properties":{"assertions":{"type":"array","items":{"$ref":"#/components/schemas/Assertion"}},"current_page":{"type":"integer","format":"int32","minimum":0},"total_count":{"type":"integer","format":"int64"},"total_pages":{"type":"integer","format":"int32","minimum":0}}},"GetDisputedAssertionsParams":{"type":"object","properties":{"limit":{"type":["integer","null"],"format":"int32","minimum":0},"page":{"type":["integer","null"],"format":"int32","minimum":0}}},"GetDisputedAssertionsResponse":{"type":"object","required":["disputed_assertions","total_count","current_page","total_pages"],"properties":{"current_page":{"type":"integer","format":"int32","minimum":0},"disputed_assertions":{"type":"array","items":{"$ref":"#/components/schemas/DisputedAssertion"}},"total_count":{"type":"integer","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0}}},"GetEntryParams":{"type":"object","required":["timestamp"],"properties":{"aggregation":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/AggregationMode"}]},"entry_type":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/EntryType"}]},"expiry":{"type":["string","null"]},"interval":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Interval"}]},"routing":{"type":["boolean","null"]},"timestamp":{"type":"integer","format":"int64","description":"The unix timestamp in seconds. This endpoint will return the first update whose\ntimestamp is <= the provided value."}}},"GetEntryResponse":{"type":"object","required":["num_sources_aggregated","pair_id","price","timestamp","decimals"],"properties":{"decimals":{"type":"integer","format":"int32","minimum":0},"num_sources_aggregated":{"type":"integer","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0}}},"GetOHLCResponse":{"type":"object","required":["pair_id","data"],"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OHLCEntry"}},"pair_id":{"type":"string"}}},"GetOnchainCheckpointsParams":{"type":"object","required":["network"],"properties":{"limit":{"type":["integer","null"],"format":"int64","minimum":0},"network":{"$ref":"#/components/schemas/Network"}}},"GetOnchainCheckpointsResponse":{"type":"array","items":{"$ref":"#/components/schemas/Checkpoint"}},"GetOnchainEntryParams":{"type":"object","required":["network"],"properties":{"aggregation":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/AggregationMode"}]},"components":{"type":["boolean","null"]},"network":{"$ref":"#/components/schemas/Network"},"routing":{"type":["boolean","null"]},"timestamp":{"type":["integer","null"],"format":"int64"},"variations":{"type":["boolean","null"]}}},"GetOnchainEntryResponse":{"type":"object","required":["pair_id","last_updated_timestamp","price","decimals","nb_sources_aggregated","asset_type"],"properties":{"asset_type":{"type":"string"},"components":{"type":["array","null"],"items":{"$ref":"#/components/schemas/OnchainEntry"}},"decimals":{"type":"integer","format":"int32","minimum":0},"last_updated_timestamp":{"type":"integer","format":"int64","minimum":0},"nb_sources_aggregated":{"type":"integer","format":"int32","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"},"variations":{"type":["object","null"],"additionalProperties":{"type":"number","format":"float"},"propertyNames":{"type":"string","enum":["100ms","1s","5s","1min","15min","1h","2h","1d","1w"]}}}},"GetOnchainHistoryEntry":{"type":"object","required":["pair_id","timestamp","median_price","decimals","nb_sources_aggregated"],"properties":{"decimals":{"type":"integer","format":"int32","minimum":0},"median_price":{"type":"string"},"nb_sources_aggregated":{"type":"integer","format":"int32","minimum":0},"pair_id":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0}}},"GetOnchainHistoryParams":{"type":"object","required":["network","timestamp"],"properties":{"chunk_interval":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/Interval"}]},"network":{"$ref":"#/components/schemas/Network"},"routing":{"type":["boolean","null"]},"timestamp":{"$ref":"#/components/schemas/TimestampRange"}}},"GetOnchainHistoryResponse":{"type":"array","items":{"$ref":"#/components/schemas/GetOnchainHistoryEntry"}},"GetOnchainOHLCResponse":{"type":"object","required":["pair_id","data"],"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OHLCEntry"}},"pair_id":{"type":"string"}}},"GetOnchainPublishersParams":{"type":"object","required":["network","data_type"],"properties":{"data_type":{"$ref":"#/components/schemas/DataType"},"network":{"$ref":"#/components/schemas/Network"}}},"GetOnchainPublishersResponse":{"type":"array","items":{"$ref":"#/components/schemas/Publisher"}},"GetResolvedAssertionsParams":{"type":"object","properties":{"limit":{"type":["integer","null"],"format":"int32","minimum":0},"page":{"type":["integer","null"],"format":"int32","minimum":0}}},"GetResolvedAssertionsResponse":{"type":"object","required":["resolved_assertions","total_count","current_page","total_pages"],"properties":{"current_page":{"type":"integer","format":"int32","minimum":0},"resolved_assertions":{"type":"array","items":{"$ref":"#/components/schemas/ResolvedAssertion"}},"total_count":{"type":"integer","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0}}},"GetVolatilityResponse":{"type":"object","required":["pair_id","volatility","decimals"],"properties":{"decimals":{"type":"integer","format":"int32","minimum":0},"pair_id":{"type":"string"},"volatility":{"type":"number","format":"double"}}},"InfraError":{"oneOf":[{"type":"string","enum":["InternalServerError"]},{"type":"string","enum":["RoutingError"]},{"type":"string","enum":["NotFound"]},{"type":"string","enum":["DisputerNotSet"]},{"type":"string","enum":["SettlerNotSet"]},{"type":"object","required":["InvalidTimestamp"],"properties":{"InvalidTimestamp":{"type":"string"}}},{"type":"object","required":["NonZeroU32Conversion"],"properties":{"NonZeroU32Conversion":{"type":"string"}}},{"type":"object","required":["AxumError"],"properties":{"AxumError":{"type":"string"}}},{"type":"object","required":["UnsupportedInterval"],"properties":{"UnsupportedInterval":{"type":"array","items":{"type":"object"},"maxItems":2,"minItems":2}}}]},"Interval":{"type":"string","enum":["100ms","1s","5s","1min","15min","1h","2h","1d","1w"]},"LoginMessage":{"type":"object","required":["signature","publisher_name","expiration_timestamp"],"properties":{"expiration_timestamp":{"type":"integer","format":"int64","minimum":0},"publisher_name":{"type":"string"},"signature":{"type":"array","items":{"type":"string"}}}},"MarketEntry":{"oneOf":[{"type":"object","required":["data","type"],"properties":{"data":{"$ref":"#/components/schemas/Entry"},"type":{"type":"string","enum":["spot"]}}},{"type":"object","required":["data","type"],"properties":{"data":{"$ref":"#/components/schemas/PerpEntry"},"type":{"type":"string","enum":["perp"]}}}]},"Network":{"type":"string","enum":["sepolia","mainnet"]},"OHLCEntry":{"type":"object","required":["time","open","low","high","close"],"properties":{"close":{"type":"integer","format":"int64","minimum":0},"high":{"type":"integer","format":"int64","minimum":0},"low":{"type":"integer","format":"int64","minimum":0},"open":{"type":"integer","format":"int64","minimum":0},"time":{"type":"string","format":"date-time"}}},"OnchainEntry":{"type":"object","required":["publisher","source","price","tx_hash","timestamp"],"properties":{"price":{"type":"string"},"publisher":{"type":"string"},"source":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0},"tx_hash":{"type":"string"}}},"OptimisticOracleError":{"oneOf":[{"type":"string","enum":["InternalServerError"]},{"type":"string","enum":["DatabaseConnection"]},{"type":"object","required":["AssertionDetailsIssue"],"properties":{"AssertionDetailsIssue":{"type":"string"}}},{"type":"object","required":["DisputerNotSet"],"properties":{"DisputerNotSet":{"type":"string"}}},{"type":"object","required":["SettlerNotSet"],"properties":{"SettlerNotSet":{"type":"string"}}},{"type":"string","enum":["NoAssertionsFound"]}]},"Pair":{"type":"object","description":"A pair of assets, e.g. BTC/USD\n\nThis is a simple struct that holds the base and quote assets.\nIt is used to represent a pair of assets in the system.\nBase and quote are always in UPPERCASE.","required":["base","quote"],"properties":{"base":{"type":"string"},"quote":{"type":"string"}}},"PerpEntry":{"type":"object","required":["base","pair_id","price","volume"],"properties":{"base":{"$ref":"#/components/schemas/BaseEntry"},"pair_id":{"type":"string"},"price":{"type":"integer","minimum":0},"volume":{"type":"integer","minimum":0}}},"PublishEntryRequest":{"type":"object","required":["entries"],"properties":{"entries":{"type":"array","items":{"$ref":"#/components/schemas/MarketEntry"}}}},"Publisher":{"type":"object","required":["publisher","website_url","last_updated_timestamp","type","nb_feeds","daily_updates","total_updates","components"],"properties":{"components":{"type":"array","items":{"$ref":"#/components/schemas/PublisherEntry"}},"daily_updates":{"type":"integer","format":"int32","minimum":0},"last_updated_timestamp":{"type":"integer","format":"int64","minimum":0},"nb_feeds":{"type":"integer","format":"int32","minimum":0},"publisher":{"type":"string"},"total_updates":{"type":"integer","format":"int32","minimum":0},"type":{"type":"integer","format":"int32","minimum":0},"website_url":{"type":"string"}}},"PublisherEntry":{"type":"object","required":["pair_id","last_updated_timestamp","price","source","decimals","daily_updates"],"properties":{"daily_updates":{"type":"integer","format":"int32","minimum":0},"decimals":{"type":"integer","format":"int32","minimum":0},"last_updated_timestamp":{"type":"integer","format":"int64","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"},"source":{"type":"string"}}},"PublisherError":{"oneOf":[{"type":"string","enum":["InternalServerError"]},{"type":"object","required":["InvalidKey"],"properties":{"InvalidKey":{"type":"string"}}},{"type":"object","required":["InvalidAddress"],"properties":{"InvalidAddress":{"type":"string"}}},{"type":"object","required":["InactivePublisher"],"properties":{"InactivePublisher":{"type":"string"}}},{"type":"string","enum":["NotFound"]}]},"RedisError":{"oneOf":[{"type":"string","enum":["InternalServerError"]},{"type":"string","enum":["Connection"]},{"type":"object","required":["OptionNotFound"],"properties":{"OptionNotFound":{"type":"array","items":{"type":"object"},"maxItems":2,"minItems":2}}},{"type":"object","required":["MerkleTreeNotFound"],"properties":{"MerkleTreeNotFound":{"type":"integer","format":"int64","minimum":0}}},{"type":"object","required":["InvalidOptionHash"],"properties":{"InvalidOptionHash":{"type":"string"}}},{"type":"string","enum":["TreeDeserialization"]},{"type":"object","required":["NoBlocks"],"properties":{"NoBlocks":{"type":"string"}}}]},"ResolvedAssertion":{"type":"object","required":["assertion","settled_address","settlement_resolution","settled_at","settle_caller","disputed","settlement_tx","dispute_id"],"properties":{"assertion":{"$ref":"#/components/schemas/Assertion"},"dispute_id":{"type":"string"},"disputed":{"type":"boolean"},"settle_caller":{"type":"string"},"settled_address":{"type":"string"},"settled_at":{"type":"string","format":"date-time"},"settlement_resolution":{"$ref":"#/components/schemas/SettlementResolution"},"settlement_tx":{"type":"string"}}},"SettlementResolution":{"type":"string","enum":["True","False","Undefined"]},"SignedPublisherPrice":{"type":"object","required":["oracle_asset_id","oracle_price","signing_key","timestamp"],"properties":{"oracle_asset_id":{"type":"string"},"oracle_price":{"type":"string"},"signing_key":{"type":"string"},"timestamp":{"type":"string"}}},"SignerError":{"oneOf":[{"type":"object","required":["ConversionError"],"properties":{"ConversionError":{"$ref":"#/components/schemas/ConversionError"}}},{"type":"object","required":["SigningError"],"properties":{"SigningError":{"type":"string"}}},{"type":"object","required":["InvalidSignature"],"properties":{"InvalidSignature":{"type":"string"}}},{"type":"object","required":["Unauthorized"],"properties":{"Unauthorized":{"type":"string"}}},{"type":"object","required":["InvalidMessage"],"properties":{"InvalidMessage":{"type":"string"}}}]},"Status":{"type":"string","enum":["Active","Disputed","Settled"]},"StreamEntryMultipairParams":{"allOf":[{"$ref":"#/components/schemas/GetEntryParams"},{"type":"object","required":["pairs"],"properties":{"historical_prices":{"type":["integer","null"],"minimum":0},"pairs":{"type":"array","items":{"type":"string"}}}}]},"StreamEntryParams":{"allOf":[{"$ref":"#/components/schemas/GetEntryParams"},{"type":"object","properties":{"historical_prices":{"type":["integer","null"],"minimum":0}}}]},"SubscribeToEntryResponse":{"type":"object","required":["oracle_prices","timestamp"],"properties":{"oracle_prices":{"type":"array","items":{"$ref":"#/components/schemas/AssetOraclePrice"}},"timestamp":{"type":"integer","format":"int64"}}},"SubscribeToPriceResponse":{"type":"object","required":["oracle_prices","timestamp"],"properties":{"oracle_prices":{"type":"array","items":{"$ref":"#/components/schemas/AssetOraclePrice"}},"timestamp":{"type":"integer","format":"int64"}}},"TimestampRange":{"type":"string","description":"Represents a range of timestamps"},"TimestampRangeError":{"oneOf":[{"type":"string","enum":["StartAfterEnd"]},{"type":"string","enum":["EndInFuture"]},{"type":"string","enum":["StartEqualsEnd"]},{"type":"string","enum":["ConversionError"]},{"type":"object","required":["Other"],"properties":{"Other":{"type":"string"}}}]},"VolatilityError":{"oneOf":[{"type":"object","required":["InvalidTimestampsRange"],"properties":{"InvalidTimestampsRange":{"type":"array","items":{"type":"integer","format":"int64","minimum":0},"maxItems":2,"minItems":2}}}]}},"responses":{"AssetOraclePrice":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["num_sources_aggregated","pair_id","price"],"properties":{"num_sources_aggregated":{"type":"integer","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"}}}}}},"CreateEntryResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["number_entries_created"],"properties":{"number_entries_created":{"type":"integer","minimum":0}}}}}},"CreateFutureEntryResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["number_entries_created"],"properties":{"number_entries_created":{"type":"integer","minimum":0}}}}}},"GetEntryResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["num_sources_aggregated","pair_id","price","timestamp","decimals"],"properties":{"decimals":{"type":"integer","format":"int32","minimum":0},"num_sources_aggregated":{"type":"integer","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"},"timestamp":{"type":"integer","format":"int64","minimum":0}}}}}},"GetOHLCResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["pair_id","data"],"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OHLCEntry"}},"pair_id":{"type":"string"}}}}}},"GetOnchainCheckpointsResponse":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Checkpoint"}}}}},"GetOnchainEntryResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["pair_id","last_updated_timestamp","price","decimals","nb_sources_aggregated","asset_type"],"properties":{"asset_type":{"type":"string"},"components":{"type":["array","null"],"items":{"$ref":"#/components/schemas/OnchainEntry"}},"decimals":{"type":"integer","format":"int32","minimum":0},"last_updated_timestamp":{"type":"integer","format":"int64","minimum":0},"nb_sources_aggregated":{"type":"integer","format":"int32","minimum":0},"pair_id":{"type":"string"},"price":{"type":"string"},"variations":{"type":["object","null"],"additionalProperties":{"type":"number","format":"float"},"propertyNames":{"type":"string","enum":["100ms","1s","5s","1min","15min","1h","2h","1d","1w"]}}}}}}},"GetOnchainHistoryResponse":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetOnchainHistoryEntry"}}}}},"GetOnchainOHLCResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["pair_id","data"],"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OHLCEntry"}},"pair_id":{"type":"string"}}}}}},"GetOnchainPublishersResponse":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Publisher"}}}}},"GetVolatilityResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["pair_id","volatility","decimals"],"properties":{"decimals":{"type":"integer","format":"int32","minimum":0},"pair_id":{"type":"string"},"volatility":{"type":"number","format":"double"}}}}}},"SubscribeToEntryResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["oracle_prices","timestamp"],"properties":{"oracle_prices":{"type":"array","items":{"$ref":"#/components/schemas/AssetOraclePrice"}},"timestamp":{"type":"integer","format":"int64"}}}}}},"SubscribeToPriceResponse":{"description":"","content":{"application/json":{"schema":{"type":"object","required":["oracle_prices","timestamp"],"properties":{"oracle_prices":{"type":"array","items":{"$ref":"#/components/schemas/AssetOraclePrice"}},"timestamp":{"type":"integer","format":"int64"}}}}}}},"securitySchemes":{"api_key":{"type":"apiKey","in":"header","name":"x-api-key"}}},"tags":[{"name":"pragma-node","description":"Pragma Node API"}]}